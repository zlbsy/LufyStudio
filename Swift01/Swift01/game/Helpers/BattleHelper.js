eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('A 3C(b){7 c;7 d=E.F.I.2j;7 e=E.F.I.T;9(b){7 f=e.1E(G.X,b,H);c=[f]}B{c=e.11(G.X)}9(!d.56(55.54)){D(7 i=0,l=c.w;i<l;i++){7 f=c[i];9(!f.1Y){W};f.2e.1X.1W=1;f.1Y=N;f.1I(N);f.1I(H)}v}7 g=e.11(G.U);D(7 i=0,l=c.w;i<l;i++){7 f=c[i];7 h=g.53(A(a){7 x=P.2v(a.1l()-f.1l());7 y=P.2v(a.1q()-f.1q());v x+y<=a.u.52()});9(h>=0){f.2e.1X.1W=1;f.1Y=N;f.1I(N);9(f.51){f.1I(H)}}B{f.2e.1X.1W=0.4K;f.1Y=H;f.1I(N)}}}A 4J(a){D(7 i=0,l=a.w;i<l;i++){7 b=a[i];7 c=b.u.4B().4z();9(c==4q.4p){W}7 d=b.u.1y();7 e=b.u.4o();9(d==e){W}9(d>=e*0.8){b.u.1y(d+1)}B 9(d>=e*0.5){b.u.1y(d+2)}B 9(d>=e*0.4){b.u.1y(d+3)}B 9(d>=e*0.2){b.u.1y(d+4)}B{b.u.1y(d+5)}}}A 4n(a,b,c){7 d=4l,L=a.L;7 e=a.2n();7 f=b.2n();7 g=P.4j(f[1]-e[1],f[0]-e[0])*2t/P.4i+2t;9(g<22.5||g>4g.5){L=O.26}B 9(g>22.5&&g<2E.5){L=c?O.4e:(P.1R()>0.5?O.26:O.2k)}B 9(g>2E.5&&g<2N.5){L=O.2k}B 9(g>2N.5&&g<2U.5){L=c?O.4d:(P.1R()>0.5?O.2d:O.2k)}B 9(g>2U.5&&g<2Y.5){L=O.2d}B 9(g>2Y.5&&g<30.5){L=c?O.4c:(P.1R()>0.5?O.2d:O.2a)}B 9(g>30.5&&g<4b.5){L=O.2a}B{L=c?O.4a:(P.1R()>0.5?O.26:O.2a)}v L};A 49(a){v a.1M==E.48.1M}A 46(a){v a.1M==E.45.1M}A 43(a,b){9(a==G.X){9(b==G.X){v H}B{v N}}B{9(b==G.X){v N}B{v H}}}A 42(a){7 b=a.2h.41;7 c=a.u;7 d=b.u;7 e="1H.1G("+c.z()+",0,"+1r.1i(Y.Z("3Z"),d.1a())+");";7 f=d.3W();7 g=d.2L()-c.2L();7 h=N;9(b.Q.2P(2Q.2S)){2T(f){1d 1e.2W:9(g>10){h=H}B 9(g>=0&&P.1x()*12<g){h=H}1g;1d 1e.31:9(g>0){h=H}B 9(g>=-10&&P.1x()*12<g+10){h=H}1g;1d 1e.32:1d 1e.33:h=H;1g}}B{2T(f){1d 1e.2W:g-=20;1g;1d 1e.31:g-=5;1g;1d 1e.32:g+=5;1g;1d 1e.33:g+=20;1g}9(g>20){h=H}B 9(g>=-20&&P.1x()*50<g+20){h=H}}9(b.u.16()){h=N}9(h){e+="1H.1G("+d.z()+",0,"+Y.Z("3U")+");"+"1O.3T("+a.1D+","+c.z()+");"}B{e+="1H.1G("+d.z()+",0,"+Y.Z("3R")+");"+"1O.3Q("+a.1D+","+c.z()+");"}2g.1B.28(e)}A 3k(a,b){7 c=[];9(a.u.2c()){9(1Z(a.1D,a.u.2c(),b)){c.J(a.u.z(),a.u.2c());7 d=2o.2p(2q);d.u.2r=c;v d}}7 e=a.u.3P();D(7 i=0;i<e.w;i++){7 f=e[i];9(1Z(a.1D,f,b)){c.J(a.u.z(),f);7 d=2o.2p(2q);d.u.2r=c;v d}}v 17}A 3O(a,b){7 c=3k(a,b);9(c){v c}7 c=a.u.3N();9(!c){v 17}7 d=c.3L();D(7 i=0;i<d.w;i++){7 e=d[i];9(e==a.u.z()){W}9(!1Z(a.1D,e,b)){v 17}}v c}A 1Z(a,b,c){7 d=E.F.I.T.1E(a,b);9(d==17){7 e;9(a==G.U){e=G.27}B 9(a==G.27){e=G.U}B{v N}d=E.F.I.T.1E(e,b)}9(d==17){v N}v 2y(d,c)}A 2y(a,b){v 2z(a,b.1l(),b.1q())}A 2z(a,b,c){7 d=b-a.1l();7 e=c-a.1q();7 f=a.u.2A();D(7 i=0;i<f.w;i++){7 g=f[i];9(g.x==d&&g.y==e){v H}}v N}A 3I(a){7 b=E.F.I.T.11(a);D(7 i=0,l=b.w;i<l;i++){b[i].Q.3H()}}A 3G(a,b){9(a.Q.2P(2Q.2S)){v N}7 c=a.u.2A();D(7 i=0,l=c.w;i<l;i++){7 d=c[i];9(b.3F(a.1l()+d.x,a.1q()+d.y)){v H}}v N}A 24(b){7 c=E.F.I.T.11(b,17,H);9(c.w==0){7 d;9(b==G.27){F.2G.2h.2H();v}7 e=3E 3D(E.F,b==G.X);E.F.I.2J(e)}B{7 f=c.1N(A(a){v a.1j});9(!f){D(7 i=0,l=c.w;i<l;i++){c[i].Q.2C()}9(b==G.U||b==G.X){7 g=2b.3B(c);f=g[0].3A;f.1j=H;1B="1H.1G("+f.u.z()+",0,"+Y.Z("3z")+");";1B+="1O.24("+b+");";2g.1B.28(1B);v}}F.2G.2h.2H()}}A 2R(a,b){9(a==G.U){v}9(b.R.M()==E.1P){v}7 d=E.F.I.T;7 e=d.11(G.U);7 f=d.11(G.X);7 g=0,23=0;e.1Q(A(c){g+=c.u.C()});f.1Q(A(c){23+=c.u.C()});9(g*4>23){v}f.1Q(A(c){9(c.u.S()){v}c.13=3y.3x})}A 3w(d){7 e=E.F.1o;7 f=E.F.I.T.11(d);2R(d,e);7 g=0;7 h=1;D(7 i=0,l=f.w;i<l;i++){7 j=f[i].u;9(j.34(35.3v)){W}g+=j.C();9(j.34(35.3u)){h=0.5}}7 k=(d==G.U&&e.1F.M()!=E.1P)||(d==G.X&&e.1F.M()==E.1P);9(k){g=(g*h>>>0);9(e.R.K()>g){e.R.K(-g);v H}e.R.K(-e.R.K())}B{g+=(e.C*0.5);g=(g*h>>>0);9(e.K>g){e.K-=g;v H}e.K=0}f.1Q(A(a){a.Q.2C();7 b=a.u.C()*0.3t>>>0;9(b<5){b=5}7 c=a.u.C()-b;9(c<0){v}a.u.C(b);39(a,1r.1i("-{0}",c),10)});7 m;D(7 i=0,l=f.w;i<l;i++){9(f[i].1j){m=f[i];1g}}7 n="1H.1G("+m.u.z()+",0,"+Y.Z("3s")+");";n+="1O.3r("+d+");";2g.1B.28(n);v N}A 3p(a,b,c){9(3f c==3g){c=1}7 d=a.C()*c>>>0;7 e=a.2i()*c>>>0;v 3i(d,e,b)}A 3i(a,b,c){7 d=c.u.C();7 e=c.u.4m();9(d==e){v 0}7 f=c.u.2i();9(b<1){b=f*b>>>0}B 9(b>f){b=f}9(d+b>e){b=e-d}7 g=c.3j.1o;7 h=0;9(g.1F.M()==c.u.1u()){h=g.C}B{h=g.R.C()}9(a>h){a=h}9(d+a+b>e){a=e-d-b}9(a>0){9(g.1F.M()==c.u.1u()){g.C-=a}B{g.R.C(h-a)}}9(b>0){c.u.2i(f-b);a+=b}v a}A 3m(){7 b={};7 c=E.F.1o;b.K=c.K;b.V=c.V;b.C=c.C;b.3n=c.R.z();b.3o=c.1F.z();b.21=E.F.3q("21");b.19=[];D(7 i=0,l=c.19.w;i<l;i++){7 d=c.19[i];b.19.J(d.z())}b.1c=[];D(7 i=0,l=c.1c.w;i<l;i++){7 d=c.1c[i];b.1c.J(d.z())}7 e=E.F.38;b.1v=[];D(7 i=0,l=e.1v.w;i<l;i++){7 d=e.1v[i];7 f={z:d.u.z(),Q:d.Q.29(),L:d.L,1b:d.1b,1S:d.1S,13:d.13,S:d.u.S(),16:d.u.16(),x:d.1l(),y:d.1q()};9(f.S){f.u=d.u.2Z()}B 9(d.u.16()){f.1A=d.u.1A()}b.1v.J(f)}b.1t=[];D(7 i=0,l=e.1t.w;i<l;i++){7 d=e.1t[i];7 f={z:d.u.z(),Q:d.Q.29(),L:d.L,1b:d.1b,13:d.13,S:d.u.S(),16:d.u.16(),x:d.1l(),y:d.1q()};9(f.S){f.u=d.u.2Z()}B 9(d.u.16()){f.1A=d.u.1A()}b.1t.J(f)}7 g=E.F.I.T.11(G.U);7 h=g.1N(A(a){v a.1j});7 j=E.F.I.T.11(G.X);7 k=j.1N(A(a){v a.1j});b.2O=h.u.z();b.2M=k.u.z();b.1k=[];D(7 i=0,l=e.1k.w;i<l;i++){7 m=e.1k[i];b.1k.J(m)}b.1s=[];D(7 i=0,l=e.1s.w;i<l;i++){7 m=e.1s[i];b.1s.J(m)}b.1m=[];D(7 i=0,l=e.1m.w;i<l;i++){7 n=e.1m[i];b.1m.J(n.1L.u.z())}b.1n=[];D(7 i=0,l=e.1n.w;i<l;i++){7 n=e.1n[i];b.1n.J(n.1L.u.z())}b.2B=E.F.I.2j.29();v b}A 3J(){7 a=E.3K.1o;7 b=E.F.1o;E.F.2w("21",a.21);E.F.2w("3M",G.U);b.19=[];D(7 i=0,l=a.19.w;i<l;i++){7 c=1h.18(a.19[i]);b.19.J(c)}b.1c=[];D(7 i=0,l=a.1c.w;i<l;i++){7 c=1h.18(a.1c[i]);b.1c.J(c)}7 d=E.F.38;7 e=E.F.I.T;D(7 i=0,l=a.1v.w;i<l;i++){7 f=a.1v[i];9(f.S){7 g=1h.18(f.z);g.S(1);g.1u(b.R.M());g.1f(b.R.z());g.3d(f.u)}B 9(f.16){7 g=1h.18(f.z);g.3c(f.1A)}7 g=e.3S(f.z,f.1b,f.L,f.x,f.y);g.3a(f.1b);g.1S=f.1S;g.13=f.13;g.Q.25(f.Q);9(f.z==a.2O){g.1j=H}}D(7 i=0,l=a.1t.w;i<l;i++){7 f=a.1t[i];9(f.S){7 g=1h.18(f.z);g.S(1);g.1u(b.R.M());g.1f(b.R.z());g.3d(f.u)}B 9(f.16){7 g=1h.18(f.z);g.3c(f.1A)}7 g=e.3V(f.z,f.1b,f.L,f.x,f.y);g.3a(f.1b);g.Q.25(f.Q);g.13=f.13;9(f.z==a.2M){g.1j=H}}D(7 i=0,l=a.1k.w;i<l;i++){7 h=a.1k[i];d.1k.J(h)}D(7 i=0,l=a.1s.w;i<l;i++){7 h=d.1s[i];d.1s.J(h)}D(7 i=0,l=a.1m.w;i<l;i++){7 h=a.1m[i];7 g=e.1E(G.U,h);9(!g){W}d.1m.J({1L:g,1V:g.u.1V()})}D(7 i=0,l=a.1n.w;i<l;i++){7 h=a.1n[i];7 g=e.1E(G.X,h);9(!g){W}a.1n.J({1L:g,1V:g.u.1V()})}E.F.I.T.3X();E.F.I.2j.25(a.2B);E.F.I.3Y.2I=H;E.F.I.40.2I=H;9(1U.1T){9(1U.1T.I.1X){1U.1T.I.2m()}1U.1T=17}E.44=N}A 2l(a,b){b.K(a.K()*0.4>>>0);a.K(-(a.K()*0.6>>>0));b.V(a.V()*0.4>>>0);a.V(-(a.V()*0.6>>>0));b.C(b.C()+(a.C()*0.4>>>0));a.C(a.C()*0.4>>>0)}A 47(b,c,d,e,f,g){7 h=f.3h();7 j=h.3b();9(d){7 k=2b.37(d);9(!k.M()){7 m=1K.1C(c);m.2f(k);k.M(c)}2l(f,k);D(7 i=0,l=j.w;i<l;i++){7 n=j[i];9(g.1N(A(a){v a==n.z()})){W}n.1w(d);n.1w()}}B{7 h=f.3h();9(f.M()>0&&f.4f().1z().4h()){D(7 i=h.w-1;i>=0;i--){h[i].2u()}}B{D(7 i=0,l=h.w;i<l;i++){7 o=h[i];9(g.4k(o.z())>=0){W}g.J(o.z())}}}9(c){7 p=1K.1C(c);p.3l(f.z())}7 q=1K.1C(b);q.2f(f);f.M(b);7 r=e[0];7 s=r.1f();f.1J(r.z());h=e.3b();D(7 i=0,l=h.w;i<l;i++){7 n=h[i];9(n.1f()==s){f.C(f.C()+n.C());n.C(0);n.1w(f.z());n.1w()}B{7 t=n.2x();t.C(t.C()+n.C());n.C(0)}}};A 4r(a,b){9(!b){v 17}7 c=a.4s();7 d=[];7 e=[];D(7 i=0;i<c.w;i++){7 f=2b.37(c[i]);9(f.M()==b){d.J(f)}B 9(f.M()==0){e.J(f)}}7 g=17;9(d.w>0){g=d[d.w*P.1x()>>>0]}B 9(e.w>0){g=e[e.w*P.1x()>>>0];7 h=1K.1C(b);h.2f(g);g.M(b);E.4t.I.4u(g.z())}v g};A 4v(a,b,c){7 d=0;9(!b){v d}9(a){9(!a.1J()){7 e=a.4w();9(e.w>0){a.1J(e[0].z())}}d=a.z()}B{7 f=1K.1C(b);7 g=f.1z();9(g.1f()!=c.z()){d=g.1f()}B{7 h=f.4x();9(h.w>0){d=h[(h.w*P.1x())>>>0].z()}}}v d}A 4y(c){9(!c||c.w==0){v}7 d=0;7 e=[];D(7 i=0,l=c.w;i<l;i++){7 f=c[i];e.J({1a:f.1a(),14:f.14(),1z:f});d+=f.14()}7 g=d/e.w;7 h=g*0.2;7 j=h>20?15:10;7 k=1.5;e=e.4A(A(a,b){v b.14-a.14});D(7 i=0,l=e.w;i<l;i++){7 m=e[i];m.1p=h;9(m.1p<j){m.1p=j}9(m.14>=g*k&&m.14>50){m.1p+=h*(m.14/g-k);m.4C=H}h-=5;m.1p=m.1p>>>0;m.1z.4D(m.1p);m.1z.14(0);4E m.1z}v e}A 4F(a,b,c){D(7 i=0,l=c.w;i<l;i++){c[i].4G(4H.4I)}9(b.1J()==0){3e(b);v}7 d=1h.18(b.1J());9(!d.1u()||d.1f()!=b.z()){3e(b)}}A 36(a,b,c,d,e){7 f;7 g=d.M();7 h=a.z()==a.1u();9(!h&&4L(g,a)){4M(a,d);f=1r.1i(Y.Z("4N"),a.1a())}B 9(4O(b,a)){f=1r.1i(Y.Z("4P"),a.1a());a.2u()}B 9(h||4Q(b,a)){9(c){9(a.1f()!=c){a.1w(c);a.1w()}f=1r.1i(Y.Z("4R"),a.1a())}B{a.4S();f=1r.1i(Y.Z("4T"),a.1a())}}B{d.4U(a);f=1r.1i(Y.Z("4V"),a.1a())}v f}A 4W(a,b,c,d,e){D(7 i=0,l=a.w;i<l;i++){7 f=a[i];7 g=1h.18(f);36(g,b,c,d,e)}}A 4X(){7 a=E.F;7 b=a.1o.R;7 c=b.M()==E.1P;7 d=a.I.T.11(G.U);D(7 i=0,l=d.w;i<l;i++){9(d[i].u.S()){W}7 e=d[i].u.C();d[i].u.C(0);9(c){d[i].u.2x().C(b.C()+e)}B{a.1o.C+=e}}24(G.U)};A 4Y(a,b,c){D(7 i=0,l=a.w;i<l;i++){9(a[i].u.S()){W}7 d=a[i].u.C();a[i].u.C(0);b.C+=d}c.C(c.C()+b.C);c.K(b.K);c.V(b.V)};A 4Z(a,b){7 c=a.K()*0.5>>>0;a.K(-c);b.K(c);7 d=a.V()*0.5>>>0;a.V(-d);b.V(d);a.C(a.C()*0.2>>>0);a.2X(-(a.2X()*0.5>>>0));a.2V(-(a.2V()*0.1>>>0));a.2D(-(a.2D()*0.2>>>0));a.2s(-(a.2s()*0.1>>>0));a.2K(-(a.2K()*0.1>>>0));a.2F(-(a.2F()*0.1>>>0))}A 57(a){a.C(0);a.K(58);a.V(59)}A 39(a,b,y){9(3f y==3g){y=0}7 c=5a(b,22,"#5b","#5c",2);c.x=a.x+(5d.5e-c.5f())*0.5;c.y=a.y+y;a.3j.I.5g.2J(c);5h.5i(c,0.5,{y:c.y-20,1W:0,5j:A(e){e.5k.2m()}})}',62,331,'|||||||var||if|||||||||||||||||||||data|return|length|||id|function|else|troops|for|LMvc|BattleController|Belong|true|view|push|food|direction|seigniorCharaId|false|CharacterDirection|Math|status|toCity|isDefCharacter|charaLayer|SELF|money|continue|ENEMY|Language|get||getCharactersFromBelong||mission|exp||isEmploy|null|getChara|expeditionCharacterList|name|action|expeditionEnemyCharacterList|case|CharacterDisposition|cityId|break|CharacterModel|format|isLeader|selfCaptive|locationX|selfMinusStrategyCharas|enemyMinusStrategyCharas|battleData|feat|locationY|String|enemyCaptive|enemyList|seigniorId|ourList|moveTo|fakeRandom|MP|character|employDatas|script|getSeignior|belong|getCharacter|fromCity|show|SGJTalk|toStatic|prefecture|SeigniorModel|chara|objectIndex|find|SGJBattleCharacter|selectSeignorId|forEach|random|mode|_instance|BattleSelectMenuController|skill|alpha|parent|hideByCloud|battleCanAttack||bout||troopsEnemy|battleEndCheck|setData|LEFT|FRIEND|addScript|getData|DOWN|AreaModel|father|RIGHT|anime|addCity|LGlobal|AI|wounded|weatherLayer|UP|battleExpeditionMove|remove|getTo|GroupSkillModel|getMaster|GroupSkillAffectionId|members|agriculture|180|toDie|abs|setValue|city|battleCharaInRangeAttack|battleLocationInRangeAttack|rangeAttack|weather|downloadAidStatusRandom|police|67|technology|ctrlChara|endBoutCheck|visible|addChild|business|force|enemyLeader|112|selfLeader|hasStatus|StrategyType|battleDefCharactersToAttack|Chaos|switch|157|population|TIMID|cityDefense|202|datas|247|CALM|BRAVE|RECKLESS|hasSkill|SkillSubType|captiveAutomatedProcessing|getArea|model|tweenTextShow|changeAction|slice|setEmployDatas|setDatas|appointPrefecture|typeof|UNDEFINED|generals|battleHealTroopsRun|controller|battleCanAffectionGroupSkill|removeCity|getBattleSaveData|toCityId|fromCityId|battleHealTroops|getValue|boutSkillRun|no_food_talk|95|THRIFT|RICE|battleFoodCheck|Initiative|BattleCharacterMission|leader_change_talk|general|getPowerfulCharacters|cloudWeatherCharacterShow|BattleResultView|new|onLocation|battleCanAttackCharacter|removeStatus|battleCharacterStatusUpdate|setBattleSaveData|areaData|group|currentBelong|groupSkill|battleCanGroupSkill|childs|endAction|single_combat_answer_no|addOurCharacter|singleCombatStart|single_combat_answer_ok|addEnemyCharacter|disposition|resetCharacterPositions|mainMenu|single_combat_ask|miniLayer|attackTarget|battleSingleCombatCheck|isSameBelong|isRead|currentAttackTarget|isCurrentAttackTarget|battleCityChange|currentAttackCharacter|isCurrentAttackCharacter|LEFT_DOWN|292|RIGHT_DOWN|RIGHT_UP|LEFT_UP|seignior|337|isTribeCharacter|PI|atan2|indexOf|this|maxTroops|getDirectionFromTarget|maxMP|Physical|SoldierType|battleFailChangeCity|neighbor|MapController|resetAreaIcon|battleCheckRetreatCity|getDefenseEnemies|areas|experienceToFeat|soldierType|sort|currentSoldiers|reward|featPlus|delete|battleChangeCharactersStatus|job|Job|END|charactersHealMP|01|calculateHitrateSurrender|generalSurrender|surrender_dialog_msg|calculateHitrateBehead|beheaded_dialog_msg|calculateHitrateRelease|released_dialog_msg|toOutOfOffice|shimono_dialog_msg|addCaptives|captived_dialog_msg|captivesAutomatedProcessing|allCharactersToRetreat|attackResourcesReturnToCity|lossOfResourcesByTribe||isStatic|movePower|findIndex|CLOUD|BattleWeatherConfig|isWeather|resetTribeCity|2000|1000|getStrokeLabel|FFFFFF|000000|BattleCharacterSize|width|getWidth|baseLayer|LTweenLite|to|onComplete|target'.split('|'),0,{}))