eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('w 3t(b){7 c;7 d=G.K.N.2S;7 e=G.K.N.14;9(b){7 f=e.1T(E.T,b,F);c=[f]}z{c=e.16(E.T)}9(!d.3n(3o.4q)){D(7 i=0,l=c.B;i<l;i++){7 f=c[i];9(!f.1v){V};f.1I.1U.1x=1;f.1v=J;f.1j(J);f.1j(F)}u}7 g=e.16(E.U);D(7 i=0,l=c.B;i<l;i++){7 f=c[i];7 h=g.34(w(a){7 x=M.2j(a.1m()-f.1m());7 y=M.2j(a.1o()-f.1o());u x+y<=a.v.3s()});9(h>=0){f.1I.1U.1x=1;f.1v=J;f.1j(J);9(f.3A){f.1j(F)}}z{f.1I.1U.1x=0.3J;f.1v=F;f.1j(J)}}}w 3K(a){D(7 i=0,l=a.B;i<l;i++){7 b=a[i];7 c=b.v.3W().45();9(c==46.47){V}7 d=b.v.1f();7 e=b.v.4s();9(d==e){V}9(d>=e*0.8){b.v.1f(d+1)}z 9(d>=e*0.5){b.v.1f(d+2)}z 9(d>=e*0.4){b.v.1f(d+3)}z 9(d>=e*0.2){b.v.1f(d+4)}z{b.v.1f(d+5)}}}w 3j(a,b,c){7 d=3m,O=a.O;7 e=a.24();7 f=b.24();7 g=M.3q(f[1]-e[1],f[0]-e[0])*28/M.3w+28;9(g<22.5||g>3I.5){O=I.1C}z 9(g>22.5&&g<26.5){O=c?I.44:(M.1u()>0.5?I.1C:I.1P)}z 9(g>26.5&&g<2u.5){O=I.1P}z 9(g>2u.5&&g<2A.5){O=c?I.4r:(M.1u()>0.5?I.1Q:I.1P)}z 9(g>2A.5&&g<1Y.5){O=I.1Q}z 9(g>1Y.5&&g<21.5){O=c?I.2R:(M.1u()>0.5?I.1Q:I.1R)}z 9(g>21.5&&g<2T.5){O=I.1R}z{O=c?I.2Y:(M.1u()>0.5?I.1C:I.1R)}u O};w 2Z(a){u a.1t==G.36.1t}w 3a(a){u a.1t==G.3e.1t}w 3f(a,b){9(a==E.T){9(b==E.T){u F}z{u J}}z{9(b==E.T){u J}z{u F}}}w 3g(a){7 b=a.1F.3i;7 c=a.v;7 d=b.v;7 e="1h.1n("+c.C()+",0,"+19.18(Q.R("3y"),d.Z())+");";7 f=d.3B();7 g=d.27()-c.27();7 h=J;9(b.1p.2b(2c.2f)){2g(f){Y X.2v:9(g>10){h=F}z 9(g>=0&&M.1d()*12<g){h=F}W;Y X.1Z:9(g>0){h=F}z 9(g>=-10&&M.1d()*12<g+10){h=F}W;Y X.2P:Y X.23:h=F;W}}z{2g(f){Y X.2v:g-=20;W;Y X.1Z:g-=5;W;Y X.2P:g+=5;W;Y X.23:g+=20;W}9(g>20){h=F}z 9(g>=-20&&M.1d()*25<g+20){h=F}}9(b.v.30()){h=J}9(h){e+="1h.1n("+d.C()+",0,"+Q.R("31")+");"+"1z.35("+a.1l+","+c.C()+");"}z{e+="1h.1n("+d.C()+",0,"+Q.R("38")+");"+"1z.39("+a.1l+","+c.C()+");"}1M.1e.1G(e)}w 2d(a,b){7 c=[];9(a.v.1K()){9(1r(a.1l,a.v.1K(),b)){c.1g(a.v.C(),a.v.1K());7 d=2m.2o(2s);d.v.2t=c;u d}}7 e=a.v.3r();D(7 i=0;i<e.B;i++){7 f=e[i];9(1r(a.1l,f,b)){c.1g(a.v.C(),f);7 d=2m.2o(2s);d.v.2t=c;u d}}u 11}w 4H(a,b){7 c=2d(a,b);9(c){u c}7 c=a.v.3u();9(!c){u 11}7 d=c.3v();D(7 i=0;i<d.B;i++){7 e=d[i];9(e==a.v.C()){V}9(!1r(a.1l,e,b)){u 11}}u c}w 1r(a,b,c){7 d=G.K.N.14.1T(a,b);9(d==11){7 e;9(a==E.U){e=E.1H}z 9(a==E.1H){e=E.U}z{u J}d=G.K.N.14.1T(e,b)}9(d==11){u J}u 2w(d,c)}w 2w(a,b){u 2y(a,b.1m(),b.1o())}w 2y(a,b,c){7 d=b-a.1m();7 e=c-a.1o();7 f=a.v.2z();D(7 i=0;i<f.B;i++){7 g=f[i];9(g.x==d&&g.y==e){u F}}u J}w 3D(a){7 b=G.K.N.14.16(a);D(7 i=0,l=b.B;i<l;i++){b[i].1p.3F()}}w 3G(a,b){9(a.1p.2b(2c.2f)){u J}7 c=a.v.2z();D(7 i=0,l=c.B;i<l;i++){7 d=c[i];9(b.3H(a.1m()+d.x,a.1o()+d.y)){u F}}u J}w 1S(b){7 c=G.K.N.14.16(b,11,F);9(c.B==0){7 d;9(b==E.1H){K.2B.1F.2C();u}7 e=3L 3U(G.K,b==E.T);G.K.N.2E(e)}z{7 f=c.2F(w(a){u a.1N});9(!f){D(7 i=0,l=c.B;i<l;i++){c[i].1p.1W()}9(b==E.U||b==E.T){7 g=1L.4n(c);f=g[0].4o;f.1N=F;1e="1h.1n("+f.v.C()+",0,"+Q.R("4p")+");";1e+="1z.1S("+b+");";1M.1e.1G(1e);u}}K.2B.1F.2C()}}w 1X(a,b){9(a==E.U){u}9(b.13.L()==G.1s){u}7 d=G.K.N.14;7 e=d.16(E.U);7 f=d.16(E.T);7 g=0,1E=0;e.1A(w(c){g+=c.v.A()});f.1A(w(c){1E+=c.v.A()});9(g*4>1E){u}f.1A(w(c){9(c.v.1D()){u}c.2U=2V.2W})}w 2X(d){7 e=G.K.1B;7 f=G.K.N.14.16(d);1X(d,e);7 g=0;7 h=1;D(7 i=0,l=f.B;i<l;i++){7 j=f[i].v;9(j.29(2a.32)){V}g+=j.A();9(j.29(2a.33)){h=0.5}}7 k=(d==E.U&&e.1y.L()!=G.1s)||(d==E.T&&e.1y.L()==G.1s);9(k){g=(g*h>>>0);9(e.13.H()>g){e.13.H(-g);u F}e.13.H(-e.13.H())}z{g+=(e.A*0.5);g=(g*h>>>0);9(e.H>g){e.H-=g;u F}e.H=0}f.1A(w(a){a.1p.1W();7 b=a.v.A()*0.37>>>0;9(b<5){b=5}7 c=a.v.A()-b;9(c<0){u}a.v.A(b);2e(a,19.18("-{0}",c),10)});7 m;D(7 i=0,l=f.B;i<l;i++){9(f[i].1N){m=f[i];W}}7 n="1h.1n("+m.v.C()+",0,"+Q.R("3b")+");";n+="1z.3c("+d+");";1M.1e.1G(n);u J}w 3d(a,b,c){9(2h c==2i){c=1}7 d=a.A()*c>>>0;7 e=a.1J()*c>>>0;u 2k(d,e,b)}w 2k(a,b,c){7 d=c.v.A();7 e=c.v.3h();9(d==e){u 0}7 f=c.v.1J();9(b<1){b=f*b>>>0}z 9(b>f){b=f}9(d+b>e){b=e-d}7 g=c.2l.1B;7 h=0;9(g.1y.L()==c.v.1w()){h=g.A}z{h=g.13.A()}9(a>h){a=h}9(d+a+b>e){a=e-d-b}9(a>0){9(g.1y.L()==c.v.1w()){g.A-=a}z{g.13.A(h-a)}}9(b>0){c.v.1J(f-b);a+=b}u a}w 3k(){7 a={};u a}w 3l(){}w 2n(a,b){b.H(a.H()*0.4>>>0);a.H(-(a.H()*0.6>>>0));b.P(a.P()*0.4>>>0);a.P(-(a.P()*0.6>>>0));b.A(b.A()+(a.A()*0.4>>>0));a.A(a.A()*0.4>>>0)}w 3p(b,c,d,e,f,g){7 h=f.2p();7 j=h.2q();9(d){7 k=1L.2r(d);9(!k.L()){7 m=1i.1q(c);m.1O(k);k.L(c)}2n(f,k);D(7 i=0,l=j.B;i<l;i++){7 n=j[i];9(g.2F(w(a){u a==n.C()})){V}n.1c(d);n.1c()}}z{7 h=f.2p();9(f.L()>0&&f.3x().1b().3z()){D(7 i=h.B-1;i>=0;i--){h[i].2x()}}z{D(7 i=0,l=h.B;i<l;i++){7 o=h[i];9(g.3C(o.C())>=0){V}g.1g(o.C())}}}9(c){7 p=1i.1q(c);p.3E(f.C())}7 q=1i.1q(b);q.1O(f);f.L(b);7 r=e[0];7 s=r.1a();f.1k(r.C());h=e.2q();D(7 i=0,l=h.B;i<l;i++){7 n=h[i];9(n.1a()==s){f.A(f.A()+n.A());n.A(0);n.1c(f.C());n.1c()}z{7 t=n.2D();t.A(t.A()+n.A());n.A(0)}}};w 3M(a,b){9(!b){u 11}7 c=a.3N();7 d=[];7 e=[];D(7 i=0;i<c.B;i++){7 f=1L.2r(c[i]);9(f.L()==b){d.1g(f)}z 9(f.L()==0){e.1g(f)}}7 g=11;9(d.B>0){g=d[d.B*M.1d()>>>0]}z 9(e.B>0){g=e[e.B*M.1d()>>>0];7 h=1i.1q(b);h.1O(g);g.L(b);G.3O.N.3P(g.C())}u g};w 3Q(a,b,c){7 d=0;9(!b){u d}9(a){9(!a.1k()){7 e=a.3R();9(e.B>0){a.1k(e[0].C())}}d=a.C()}z{7 f=1i.1q(b);7 g=f.1b();9(g.1a()!=c.C()){d=g.1a()}z{7 h=f.3S();9(h.B>0){d=h[(h.B*M.1d())>>>0].C()}}}u d}w 3T(c){9(!c||c.B==0){u}7 d=0;7 e=[];D(7 i=0,l=c.B;i<l;i++){7 f=c[i];e.1g({Z:f.Z(),S:f.S(),1b:f});d+=f.S()}7 g=d/e.B;7 h=g*0.2;7 j=h>20?15:10;7 k=1.5;e=e.3V(w(a,b){u b.S-a.S});D(7 i=0,l=e.B;i<l;i++){7 m=e[i];m.17=h;9(m.17<j){m.17=j}9(m.S>=g*k&&m.S>25){m.17+=h*(m.S/g-k);m.3X=F}h-=5;m.17=m.17>>>0;m.1b.3Y(m.17);m.1b.S(0);3Z m.1b}u e}w 40(a,b,c){D(7 i=0,l=c.B;i<l;i++){c[i].41(42.43)}9(b.1k()==0){2G(b);u}7 d=2H.2I(b.1k());9(!d.1w()||d.1a()!=b.C()){2G(b)}}w 2J(a,b,c,d,e){7 f;7 g=d.L();7 h=a.C()==a.1w();9(!h&&48(g,a)){49(a,d);f=19.18(Q.R("4a"),a.Z())}z 9(4b(b,a)){f=19.18(Q.R("4c"),a.Z());a.2x()}z 9(h||4d(b,a)){9(c){9(a.1a()!=c){a.1c(c);a.1c()}f=19.18(Q.R("4e"),a.Z())}z{a.4f();f=19.18(Q.R("4g"),a.Z())}}z{d.4h(a);f=19.18(Q.R("4i"),a.Z())}u f}w 4j(a,b,c,d,e){D(7 i=0,l=a.B;i<l;i++){7 f=a[i];7 g=2H.2I(f);2J(g,b,c,d,e)}}w 4k(){7 a=G.K;7 b=a.1B.13;7 c=b.L()==G.1s;7 d=a.N.14.16(E.U);D(7 i=0,l=d.B;i<l;i++){9(d[i].v.1D()){V}7 e=d[i].v.A();d[i].v.A(0);9(c){d[i].v.2D().A(b.A()+e)}z{a.1B.A+=e}}1S(E.U)};w 4l(a,b,c){D(7 i=0,l=a.B;i<l;i++){9(a[i].v.1D()){V}7 d=a[i].v.A();a[i].v.A(0);b.A+=d}c.A(c.A()+b.A);c.H(b.H);c.P(b.P)};w 4m(a,b){7 c=a.H()*0.5>>>0;a.H(-c);b.H(c);7 d=a.P()*0.5>>>0;a.P(-d);b.P(d);a.A(a.A()*0.2>>>0);a.2K(-(a.2K()*0.5>>>0));a.2L(-(a.2L()*0.1>>>0));a.2M(-(a.2M()*0.2>>>0));a.2N(-(a.2N()*0.1>>>0));a.2O(-(a.2O()*0.1>>>0));a.1V(-(a.1V()*0.1>>>0))}w 4t(a){a.A(0);a.H(4u);a.P(4v)}w 2e(a,b,y){9(2h y==2i){y=0}7 c=4w(b,22,"#4x","#4y",2);c.x=a.x+(4z.4A-c.4B())*0.5;c.y=a.y+y;a.2l.N.4C.2E(c);4D.4E(c,0.5,{y:c.y-20,1x:0,4F:w(e){e.4G.2Q()}})}',62,292,'|||||||var||if|||||||||||||||||||||return|data|function|||else|troops|length|id|for|Belong|true|LMvc|food|CharacterDirection|false|BattleController|seigniorCharaId|Math|view|direction|money|Language|get|exp|ENEMY|SELF|continue|break|CharacterDisposition|case|name||null||toCity|charaLayer||getCharactersFromBelong|feat|format|String|cityId|character|moveTo|fakeRandom|script|MP|push|SGJTalk|SeigniorModel|toStatic|prefecture|belong|locationX|show|locationY|status|getSeignior|battleCanAttack|selectSeignorId|objectIndex|random|hideByCloud|seigniorId|alpha|fromCity|SGJBattleCharacter|forEach|battleData|LEFT|isDefCharacter|troopsEnemy|AI|addScript|FRIEND|anime|wounded|father|AreaModel|LGlobal|isLeader|addCity|UP|RIGHT|DOWN|battleEndCheck|getCharacter|parent|technology|downloadAidStatusRandom|battleDefCharactersToAttack|202|CALM||247||RECKLESS|getTo|50|67|force|180|hasSkill|SkillSubType|hasStatus|StrategyType|battleCanAffectionGroupSkill|tweenTextShow|Chaos|switch|typeof|UNDEFINED|abs|battleHealTroopsRun|controller|GroupSkillModel|battleExpeditionMove|getMaster|generals|slice|getArea|GroupSkillAffectionId|members|112|TIMID|battleCharaInRangeAttack|toDie|battleLocationInRangeAttack|rangeAttack|157|ctrlChara|endBoutCheck|city|addChild|find|appointPrefecture|CharacterModel|getChara|captiveAutomatedProcessing|cityDefense|population|police|agriculture|business|BRAVE|remove|RIGHT_DOWN|weatherLayer|292|mission|BattleCharacterMission|Initiative|battleFoodCheck|LEFT_DOWN|isCurrentAttackCharacter|isEmploy|single_combat_answer_ok|RICE|THRIFT|findIndex|singleCombatStart|currentAttackCharacter|95|single_combat_answer_no|endAction|isCurrentAttackTarget|no_food_talk|boutSkillRun|battleHealTroops|currentAttackTarget|isSameBelong|battleSingleCombatCheck|maxTroops|attackTarget|getDirectionFromTarget|getBattleSaveData|setBattleSaveData|this|isWeather|BattleWeatherConfig|battleCityChange|atan2|childs|movePower|cloudWeatherCharacterShow|groupSkill|group|PI|seignior|single_combat_ask|isTribeCharacter|isStatic|disposition|indexOf|battleCharacterStatusUpdate|removeCity|removeStatus|battleCanAttackCharacter|onLocation|337|01|charactersHealMP|new|battleFailChangeCity|neighbor|MapController|resetAreaIcon|battleCheckRetreatCity|getDefenseEnemies|areas|experienceToFeat|BattleResultView|sort|currentSoldiers|reward|featPlus|delete|battleChangeCharactersStatus|job|Job|END|LEFT_UP|soldierType|SoldierType|Physical|calculateHitrateSurrender|generalSurrender|surrender_dialog_msg|calculateHitrateBehead|beheaded_dialog_msg|calculateHitrateRelease|released_dialog_msg|toOutOfOffice|shimono_dialog_msg|addCaptives|captived_dialog_msg|captivesAutomatedProcessing|allCharactersToRetreat|attackResourcesReturnToCity|lossOfResourcesByTribe|getPowerfulCharacters|general|leader_change_talk|CLOUD|RIGHT_UP|maxMP|resetTribeCity|2000|1000|getStrokeLabel|FFFFFF|000000|BattleCharacterSize|width|getWidth|baseLayer|LTweenLite|to|onComplete|target|battleCanGroupSkill'.split('|'),0,{}))