eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('8 4(a,b){3 c=A;c.1t=b;c.1t.7.1a=W;c.9=a;63(c,62,[])}4.u.61=8(){3 a=A;a.1w=a.1B=0;a.5W("5V",0);D.1V(O);D.30(5U);3 b=a.9.B;D.5T.5R(1r.1l(S.P("5Q"),b.35()));6(V.3a){V.3a.5P()}a.3d()};4.u.3d=8(){3 a=A;a.1Y(["5M"],a.2c)};4.u.2c=8(){3 a=A;a.1k.5K(["5I","2q","5H","5F"],a.2u)};4.u.2u=8(){3 a=A;a.1k.5D(["5z","5y","C/2C","C/5x","C/5w","C/5u"],a.2M)};4.u.2M=8(){3 a=A;a.1k.5r(["5q","5p","5k","5j","5g","5e","5d","5c"],a.37)};4.u.37=8(){3 a=A;a.1k.F(["1o/5b","1o/5a","1o/58","1o/4Y","1o/4X"],a.28)};4.u.28=8(){3 a=A;a.1k.7(["C/4W","C/4V","C/4U","23/2q","23/4T","23/4S","C/4R","C/4O","C/4N","C/4M","22/22","22/4L","C/4K","C/4J","C/4H","C/4G","C/4E","C/4D","C/4C","C/4B","C/4z","C/4y"],a.2G)};4.u.2G=8(){3 a=A;3 b=1r.1l("{0}.4x",a.9.B.4w());a.F.4u(b,a.2L)};4.u.2L=8(){3 a=A;3 b=a.F.4t();a.1k.4s(b,a.2O)};4.u.2O=8(){3 a=A;a.F.4r(a.2S)};4.u.2U=8(){3 a=D.4;6(a==1K){w}6(14.1G(a.1w-4q)>12||14.1G(a.1B-4o)>12){w}3 b=a.7.J.1n(a.U,a.T);6(!b||b.1m){w}a.7.4m.3c();a.1C=W;a.4f=b;a.1Y(["4d"],a.3i)};4.u.3i=8(){3 a=A;3 b=a.7.J.1T(E.11);3 c=a.7.J.1T(E.18);3 d=Q 48(44.43,a,b.2g(c),{42:O,40:O});a.7.13.1X(d.7)};4.u.2S=8(){3 a=A;3Y.1v(3X);3W.1v(3V);3Q.1v(3P);3O.1v(3N);a.2t();1g.3M=(1I.2x.3L==1?1g.3K:1g.3J);D.1V(W);a.1t.7.13.1X(a.7);a.1t.7.1a=W;D.4=a;6(!4.16){4.16=Q 3H(3G,1)}4.16.2F();4.16.3C(3y.3x,a.2U);3 b=a.9.B.G();3 c=a.9.B.2J();17(3 i=0,l=c.K;i<l;i++){b+=c[i].G()}6(a.9.B.1c()==0||b==0||a.9.B.3w()==0){a.3v=O;3 d=(a.9.2R.1c()==D.1N);6(!d){a.9.2T=a.9.1q.2V}a.1j(1u.2Y);w}a.1j(1u.2Y);6(D.1R&&D.1R.9){3t();D.1R=1K}I{14.3s();a.39()}1I.3r("3q"+((2*14.3o()>>>0)+1),1I.2x.4I)};4.u.39=8(){3 c=A;3 d;3 e;3 f;3 g=(c.9.2R.1c()==D.1N);6(g){3 h=c.9.B.2J();17(3 i=0,l=h.K;i<l;i++){3 j=h[i];6(j.G()>0){c.9.B.G(c.9.B.G()+j.G());j.G(0)}}d=c.9.B.3n();e=c.F.X.3f;f=c.F.X.3g;3 k=c.9.B.G();17(3 i=0;i<d.K;i++){3 m=d[i].M();3 j=3k.3l(m);3 n=j.1p();6(n>k){n=k}j.G(n);k-=n;c.9.B.G(k);6(k>0||i==d.K-1){36}d=d.3p(0,i+1);Z}6(!D.34&&d.K<1g.1U){3 o=c.9.B.3u();o=o.1M(8(){w 14.2P()>0.5?1:-1});17(3 i=0;i<o.K;i++){3 p=3z.3A(o[i]);6(p.1c()!=c.9.B.1c()||p.M()==c.9.B.M()){36}h=3B(p,d.K,1g.1U);d=d.2g(h)}}3 q;3D(!D.34&&d.K<1g.1U){6(!q){q=c.9.B.3E()}3 j=q.3F();6(c.9.B.1F()<j.2D()){Z}6(c.9.B.G()<j.1p()){Z}j.G(j.1p());c.9.B.G(c.9.B.G()-j.1p());c.9.B.1F(-j.2D());d.3I(j)}}I{d=c.9.1q.2V;c.9.2B=c.9.1q.2B;c.9.1F=c.9.1q.1F;c.9.G=c.9.1q.G;e=c.F.X.3g;f=c.F.X.3f}e=e.1M(8(a,b){3 v=b.1s-a.1s;6(v==0){w 14.2P()-0.5}w v});c.9.2T=d;17(3 i=0;i<d.K;i++){3 r=e[i];3 j=d[i];3 m=j.M();c.1z(m,r.1y,r.x,r.y);j.3R(j.3S());j.3T(j.3U());3 s=c.7.J.2o(E.18,m);6(r.1s>0&&g){s.1O=1Q.3Z}}c.F.2i[0].41=O;6(g){c.F.2i[0].1O=1Q.2h}c.2f();17(3 i=0,l=f.K;i<l;i++){3 t=f[i];c.7.J.45(t.1y,t.x,t.y,i)}};4.u.2f=8(){3 c=A;3 d=c.F.X.46.1M(8(a,b){w a.1s-b.1s});3 e={};3 f=c.9.B.47();3 g=c.9.B.1c()==D.1N;17(3 i=0;f>=2d&&i<d.K;i++){3 h=d[i];3 j=h.M;3 k="49"+j;6(4a e[k]==4b){e[k]=0}3 l=4c[k];3 m=l[e[k]];e[k]+=1;3 n=3k.3l(m);n.3h(1);n.4e().R.4g="4h/"+4i[k]+(g?"-1":"-2");n.4j(c.9.B.1c());n.4k(c.9.B.M());n.4l(O);n.G(n.1p());6(!g){c.1z(m,h.1y,h.x,h.y)}I{c.25(m,h.1y,h.x,h.y)}3 o=c.7.J.2o(1K,m);o.1O=1Q.2h;f-=2d}};4.u.4n=8(){3 a=A;3 e=Q 1u(33.4p);e.H=a.1f("1e");a.1j(e);6(e.H==E.11){3 b=a.7.J.1T(E.1D);a.1E(b.K>0?E.1D:E.18)}I 6(e.H==E.1D){a.1E(E.18)}I{a.1E(E.11)}};4.u.1E=8(a){3 b=A;3 e=Q 1u(33.4v);e.H=a;b.1j(e)};4.u.25=8(a,b,x,y){3 c=A;c.7.J.25(a,1H.1J,b,x,y)};4.u.1z=8(a,b,x,y){3 c=A;c.7.J.1z(a,1H.1J,b,x,y)};4.u.2E=8(a,b,x,y){3 c=A;c.7.J.2E(a,1H.1J,b,x,y)};4.u.2t=8(){3 a=A;3 b=a.F.X.R;a.1x=Q 2C(a.F.X.R)};4.u.4A=8(a){6(D.2A||1P.1S().7.1a){w}6(4.z&&4.z.4F()){w}3 b=a.10.13.1i;6(!b.1C){w}b.1C=W;a.10.3c();4.16.3m();6(14.1G(b.1w-a.1W)>12||14.1G(b.1B-a.1Z)>12){w}6(b.1f("1e")&&b.1f("1e")!=E.11){w}6(!b.7.L.1a){3 c=b.2n(a.U,a.T);6(c){b.7.2m.1a=W;w}b.7.2l.4P(a.U,a.T)}I 6(!b.7.L.4Q(a.1W,a.1Z)){b.2k(a)}I 6(4.z.Y==N.2b){b.24(a)}I 6(4.z.Y==N.29){b.26(a)}I{b.3e(a)}};4.u.4Z=8(a){6(D.2A||1P.1S().7.1a){w}3 b=a.10.13.1i;6(b.1f("1e")&&b.1f("1e")!=E.11){w}b.1w=a.1W;b.1B=a.1Z;b.U=a.U;b.T=a.T;6(D.50<b.F.X.51||D.52<b.F.X.53){a.10.54(a.55)}b.1C=O;4.16.56();4.16.57()};4.u.26=8(a){3 b=a.10.13.1i;3 c=b.7.J.1n(a.U,a.T);6(!c||c.1m||c.H!=E.18){w}6(c.R.3h()){V.1b(S.P("59")).19();w}b.7.L.1d();4.z.1h.26(c)};4.u.24=8(a){3 b=a.10.13.1i;3 c=b.32(a.U,a.T)};4.u.32=8(x,y){3 a=A;3 b=a.7.J.1n(x,y);6(!b||b.1m||b.H!=E.18){w}a.7.L.1d();4.z.1h.24(b)};4.u.31=8(a){3 b=A;6(!a||a.1m){w}6(!5f(4.z.20.H(),a.H)){V.1b(1r.1l(S.P("5h"),S.P(4.z.H))).19();w}I 6(!b.7.2l.5i(4.z.20,a.2Z(),a.2X())){V.1b(1r.1l(S.P("5l"),4.z.20.35())).19();w}b.7.L.1d();4.z.1h.5m(a)};4.u.3e=8(a){3 b=a.10.13.1i;6(!b.1f("1e")){V.1b(S.P("5n")).19();w}I 6(4.z.H!=E.11){V.1b(1r.1l(S.P("5o"),S.P(4.z.H))).19();w}I 6(4.z.2W.2Q(2N.5s)){V.1b(S.P("5t")).19();w}I 6(4.z.Y==N.2K){V.1b(S.P("5v")).19();w}3 c=b.7.J.1n(a.U,a.T);6(4.z.Y==N.2I){b.31(c);w}6(c){6(c.R.M()==4.z.R.M()){b.7.L.1d();4.z.1j(2H.2y)}w}b.2w(a.U/b.F.5A>>>0,a.T/b.F.5B>>>0)};4.u.2w=8(a,b){3 c=A;3 d=4.z;3 e=d.5C();3 f=e[0],2v=e[1];3 g=c.1x.5E(Q 27(f,2v),Q 27(a,b));6(g.K>0){c.7.L.1d();d.5G(g)}};4.u.2k=8(a){3 b=a.10.13.1i;b.7.L.1d();2r(4.z.Y){15 N.2b:15 N.29:4.z.1j(2H.2y);Z;15 N.2I:1P.1S().5J();Z;15 N.1L:5L:4.z.2F();4.z.2a(O);b.7.2m.1a=O}};4.u.2n=8(a,b){3 c=A;3 d=c.7.J.1n(a,b);6(!d){w W}4.z=d;6(d.1m){w W}c.7.5N(d);2r(d.H){15 E.11:4.z.1h.5O();c.3b(d);Z;15 E.1D:c.21(d);Z;15 E.18:c.21(d);Z}w O};4.u.3b=8(a){3 b=A,1A;6(a.2W.2Q(2N.5S)){1A=[Q 27(a.2Z(),a.2X())]}I{1A=b.1x.3j(a)}b.7.L.38(1A,a.H);b.7.L.2j(a);a.2e();6(a.Y==N.2K){w}a.2a(W);a.Y=N.1L;4.z.5X()};4.u.21=8(a){3 b=A;3 c=b.1x.3j(a);b.7.L.38(c,a.H);b.7.L.2j(a);a.Y=N.1L;a.2e()};4.u.5Y=8(){3 a=A;D.1V(O);D.30(5Z);a.1Y("60",a.2p)};4.u.2p=8(){3 a=A;3 b;6(a,4.z.H==E.11){b=Q 2z(a,4.z.R.M(),4.z.1h.2s.R.M())}I{b=Q 2z(a,4.z.1h.2s.R.M(),4.z.R.M())}D.64.1X(b.7)};',62,377,'|||var|BattleController||if|view|function|battleData|||||||||||||||||||||prototype||return|||ctrlChara|this|toCity|Battle|LMvc|Belong|model|troops|belong|else|charaLayer|length|roadLayer|id|CharacterMode|true|get|new|data|Language|selfY|selfX|Toast|false|map|mode|break|currentTarget|SELF||parent|Math|case|timer|for|ENEMY|show|visible|makeText|seigniorCharaId|clear|currentBelong|getValue|BattleMapConfig|AI|controller|dispatchEvent|load|format|hideByCloud|getCharacterFromCoordinate|Master|maxTroops|expeditionEnemyData|String|index|fromController|LEvent|setMaster|downX|query|direction|addEnemyCharacter|path|downY|draging|FRIEND|boutNotify|money|abs|CharacterAction|LPlugin|MOVE|null|SHOW_MOVE_ROAD|sort|selectSeignorId|mission|BattleSelectMenuController|BattleCharacterMission|areaData|instance|getCharactersFromBelong|DefenseQuantity|keepLoading|offsetX|addChild|loadMvc|offsetY|currentSelectStrategy|clickOtherCharacter|Strategy|Common|physicalAttack|addOurCharacter|singleCombat|LPoint|viewLoad|WAIT_SINGLE_COMBAT|toStatic|WAIT_ATTACK|configLoad|DefenseCharacterCost|showStatusView|defCharactersInit|concat|Defensive|enemyList|addRangeAttack|notClickOnRoadLayer|mapLayer|mainMenu|characterClick|getCharacter|loadSingleCombatComplete|Character|switch|attackTarget|queryInit|libraryLoad|fy|charaToMove|gameSetting|MOVE_COMPLETE|SingleCombatController|running|food|BattleQuery|employPrice|addFriendCharacter|removeAllEventListener|addMap|CharacterActionEvent|STRATEGY_SELECT|generals|END_ACTION|globalFilesLoad|helperLoad|StrategyType|createMapData|fakeRandom|hasStatus|fromCity|init|expeditionEnemyCharacterList|showCharacterDetailed|expeditionCharacterList|status|locationY|COMPLETE|locationX|changeLoading|clickStrategyRange|physicalAttackCharacter|BattleBoutEvent|TutorialController|name|continue|modelLoad|setMoveRoads|charactersInit|layer|clickSelfCharacter|stopDrag|mvcLoad|clickOnRoadLayer|charas|enemys|isDefCharacter|showCharacterDetailedView|makePath|CharacterModel|getChara|stop|getDefenseEnemies|random|splice|battle|playBGM|fakeReset|setBattleSaveData|neighbor|noBattle|generalsSum|TIMER|LTimerEvent|AreaModel|getArea|getBattleReinforcement|addEventListener|while|getEmployCharacters|shift|1000|LTimer|push|SPEED_FAST|SPEED_NORMAL|speed|SPEED|GroupSkillsData|GroupSkillModel|SoldierDatas|SoldierMasterModel|HP|maxHP|MP|maxMP|SkillsData|SkillMasterModel|TerrainConfig|TerrainMasterModel|Passive|showOnly|isLeader|showDetailed|BATTLE_SINGLE|CharacterListType|addCharacterPosition|defCharas|cityDefense|CharacterListController|soldier_|typeof|UNDEFINED|DefCharacterList|CharacterList|currentSoldiers|currentCharacter|img|common|DefCharacterImage|seigniorId|cityId|calculation|baseLayer|boutEnd|mouseY|END|mouseX|createMap|image|getImages|loadMapFile|SHOW|smap|js|BattleField|BattleExpChange|mapMouseUp|BattleResultConfirm|BattleResult|BattleTerrain|BattleWeather|isMoving|CharacterStatusIcon|BattleBout|BGM|BattleMainMenu|EffectStrategy|StrategyChild|BattleCharacterStatus|BattleRoad|BattleCharacter|showTerrain|hitTestPoint|BattleCharacterLayer|StatusBar|SpecialEffect|BattleMap|BattleMiniPreview|Background|SkillMaster|GroupSkill|mapMouseDown|screenHeight|height|screenWidth|width|startDrag|touchPointID|reset|start|TerrainMaster|def_single_combat_error|Soldier|SoldierMaster|SkillCalculateHelper|BattleCalculateHelper|CommonHelper|isSameBelong|MapHelper|use_strategy_belong_error|canUseStrategyOnTerrain|BattleHelper|JobAIHelper|use_strategy_terrain_error|magicAttack|can_not_move|can_not_operating|Hert|Talk|helper|Chaos|ctrl_Chaos_error|HertParams|action_end_error|BattleIntelligentAI|BattleCharacterAI|LStarQuery|Num|stepWidth|stepHeight|getTo|library|queryPath|Terrain|setRoad|GroupSkills|Soldiers|magicSelect|config|default|BattleSelectMenu|resetMapPosition|setEvent|removeAllChild|battle_title|setTitle|Fixed|loading|BattleLoading|bout|setValue|saveShowMoveRoadObject|loadSingleCombat|TranslucentLoading|SingleCombat|construct|OpenCharacterListController|base|stageLayer'.split('|'),0,{}))