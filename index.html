<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus SVG 1.1//EN"
"http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>SGJ</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	    <meta name="apple-mobile-web-app-capable" content="yes">
	    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <script src="./js/lufylegend-1.9.10.js" type="text/javascript"></script>
        <script src="./js/lufylegend.lsharp.js" type="text/javascript"></script>
        <script src="./js/lufylegend.mvc-0.3.0.min.js" type="text/javascript"></script>
        <script src="./js/lufylegend.ui-0.12.0.min.js" type="text/javascript"></script>
        <script src="./js/LScrollbar-0.1.1.js" type="text/javascript"></script>
    </head>
    <body style="margin:0px 0px 0px 0px;padding:0px 0px 0px 0px;font-size: 0;">
        <div id="mvclegend">loading</div>
        <script>
        trace = function() {
	if (!LGlobal.traceDebug) return;
	var t = document.getElementById("traceObject"), i;
	if (trace.arguments.length > 0 && t == null) {
		var d = document.createElement("DIV");
		d.position=0;
		d.style.position = "absolute";
		document.body.appendChild(d);
		t = document.createElement("TEXTAREA");
		t.id = "traceObject";
		t.style.width = (window.innerWidth*0.5) + "px";
		t.style.height = "200px";
		var b = document.createElement("BUTTON");
		b.style.width = (window.innerWidth*0.25) + "px";
		b.innerHTML="Hide";
		d.appendChild(b);
		LEvent.addEventListener(b,LGlobal.mobile ? "touchstart":"click", function(e){
			t.style.display = (t.style.display == "none" ? "":"none");
		});
		b = document.createElement("BUTTON");
		b.style.width = (window.innerWidth*0.25) + "px";
		b.innerHTML="position";
		d.appendChild(b);
		var f = function(e){
			d.position++;
			if(d.position == 0){
				d.style.top = "5px";
				d.style.left = "5px";
			}else if(d.position == 1){
				d.style.top = (window.innerHeight - parseInt(t.style.height)) + "px";
				d.style.left = "5px";
			}else if(d.position == 2){
				d.style.top = "5px";
				d.style.left = (window.innerWidth - parseInt(t.style.width)) + "px";
			}else{
				d.style.top = (window.innerHeight - parseInt(t.style.height)) + "px";
				d.style.left = (window.innerWidth - parseInt(t.style.width)) + "px";
				d.position = -1;
			}
		};
		f();
		LEvent.addEventListener(b,LGlobal.mobile ? "touchstart":"click", f);
		d.appendChild(document.createElement("BR"));
		d.appendChild(t);
	}
	for (i = 0; i < trace.arguments.length; i++) {
		t.value = t.value + trace.arguments[i] + "\r\n";
		t.scrollTop = t.scrollHeight;
	}
};
        if(LGlobal.mobile){
        	var protocol = location.protocol;
			if (protocol == "http:" || protocol == "https:") {
			}else{
				console.log = trace;
				//console.log=function(){};
			}
		}
        //LGlobal.keepClear = false;
		LGlobal.aspectRatio = PORTRAIT;
        init(1000/30,"mvclegend",480,800,main);
		function main(){
			LGlobal.setDebug(true);
			//console.log = trace;
			if(LGlobal.mobile){
				LGlobal.width = 480;
				LGlobal.height = 480*window.innerHeight/window.innerWidth;
				LGlobal.canvasObj.width  = LGlobal.width;
				LGlobal.canvasObj.height  = LGlobal.height;
			}
			LGlobal.align = LStageAlign.TOP_LEFT;
			LGlobal.stageScale = LStageScaleMode.SHOW_ALL;
			LSystem.screen(LStage.FULL_SCREEN);
			//LMouseEventContainer.dispatchAllEvent = true;
			LMouseEventContainer.set(LMouseEvent.MOUSE_DOWN,true);
			LMouseEventContainer.set(LMouseEvent.MOUSE_UP,true);
			LMouseEventContainer.set(LMouseEvent.MOUSE_MOVE,true);
			
			var loadData = [
					{name:"logo_bg_1",path:LMvc.IMG_PATH+"logo/logo_bg_1.jpg"},
					{name:"logo_bg_2",path:LMvc.IMG_PATH+"logo/logo_bg_2.png"},
					{name:"logo_ryofu",path:LMvc.IMG_PATH+"logo/logo_ryofu.png"},
					//{path:"./js/lufylegend.ui-0.12.0.min.js",type:"js"},
					{path:"./core/MyController.js",type:"js"},
					{path:"./core/MyModel.js",type:"js"},
					//{path:"./js/LScrollbar-0.1.0.js",type:"js"}
			];
		
			loadingLayer = new LoadingSample3();
			addChild(loadingLayer);	
			LLoadManage.load(
				loadData,
				function(progress){
					loadingLayer.setProgress(progress);
				},
				function(result){
					LMvc.datalist = result;
					removeChild(loadingLayer);
					loadingLayer = null;
					
					LMvc.init();
					//return;
					var fps = new FPS();
					LTweenLiteTimeline.to(fps,5,{alpha:0,loop:true}).to(fps,5,{alpha:1});
					addChild(fps);
				}
			);
		}
        </script>
    </body>
</html>
